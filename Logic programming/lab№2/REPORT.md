#№ Отчет по лабораторной работе №2
## по курсу "Логическое программирование"

## Решение логических задач

### студент: Минеева Светлана Алексеевна

## Результат проверки

| Преподаватель     | Дата         |  Оценка       |
|-------------------|--------------|---------------|
| Сошников Д.В. |              |               |
| Левинская М.А.|              |               |

> *Комментарии проверяющих (обратите внимание, что более подробные комментарии возможны непосредственно в репозитории по тексту программы)*


## Введение

Существуют различные методы решения логических задач. Можно выделить метод рассуждений, метод логических высказываний, метод таблиц истинности, метод блок-схем, метод кругов Эйлера. Идея метода рассуждений состоит в том, что мы проводим рассуждения, используя последовательно все условия задачи, и приходим к выводу, что и есть ответ задачи. В методе логических высказываний мы сопоставляем условиям задачи формулы алгебры логики, которые дальше можно решать с помощью таблиц истинности или других методов. Видно, что в данных методах используется перебор возможных решений. Язык программирования Prolog – отличный вариант для решения логических задач, поскольку его механизм бэктрекинга позволяет нам просмотреть большое количество возможных вариантов решения задачи и выбрать из них верные.

## Задание
13.	Давным-давно в одной из восточных стран был знаменитый оракул. В отличие от остальных оракулов, его устами вещало не одно божество, а три, Бог Правды, Бог Дипломатии и Бог Лжи. Эти божества изображались совершенно одинаковыми фигурами, расположенными в ряд за алтарем, перед которыми преклоняли колени люди, ищущие совета. Боги всегда охотно отвечали на вопросы. Но так как они были похожи друг на друга, никто не мог определить, то ли отвечает бог Правды, которому надо верить, то ли бог Лжи, который всегда говорит неправду, то ли бог Дипломатии, который может и солгать, и сказать правду. Такое положение было на руку жрецам, ибо любой ответ оракула можно было толковать как угодно. Но однажды нашелся кощунственный смельчак, который задумал совершить то, что не удавалось самым большим мудрецам. Он решил опознать каждого из богов. Смельчак вошел в храм и спросил бога, стоящего слева: Кто стоит рядом с тобой? Бог Правды, был ответ. Тогда смельчак спросил бога, стоявшего в центре: Кто ты? Бог Дипломатии. Последний вопрос смельчак задал богу, стоявшему справа: Кто стоит рядом с тобой? Бог Лжи. Теперь все понятно, - довольно сказал смельчак. Что же он понял из ответов богов?

## Принцип решения

**Демонстрация работы программы**
```prolog
?- solve.
[dipl, lie, truth]
true
```
Это решение является единственным верным решением. Проверим это: Бог посередине точно не является богом правды (бог правды не может сказать, что является богом дипломатии), значит и бог слева – это не бог правды (бог слева говорит, что бог посередине – бог правды, а это, как мы уже выяснили, неверно). Выяснили, бог справа – бог правды (единственная оставшаяся для него позиция), и он говорит, что посередине находится бог лжи, а он не может лгать. Выяснили, бог посередине – бог лжи. Остается одна позиция и один бог. Следовательно, бог справа – бог дипломатии. Вывод программы верен.

**Принцип решения задачи**

Изначально задаём самих богов в виде списка:
```prolog
gods([truth, lie, dipl]). % Список всех богов
```

Условие задачи – высказывания каждого из богов. Задаём эти высказывания:
```prolog
godsay(pos(left, truth)).  % Бог слева сказал, что посередине бог правды
godsay(pos(center, dipl)). % Бог посередине сказал, что он - бог дипломатии
godsay(pos(right, lie)).  % Бог справа сказал, что посередине бог лжи
```

Сам метод решения основан на предположении относительно реплики бога посередине. Сначала выделяем фразу бога посередине: `godsay(pos(center, Center))`, а после проходим высказывания.
```prolog
solve :-
    gods(GodList),
    List=[_, _, _],
    godsay(pos(center, Center)),  
    (   Center==truth   % Посередине может быть любой бог
    ;   Center==lie, % То, что он - бог лжи, может сказать только бог дипломатии
        writepos(center, dipl, List),
        godsay(pos(Truth, dipl)), % Известно, что посередине бог дипломатии, тот, кто назвал его богом дипломатии, бог правды
        writepos(Truth, truth, List),
        godsay(pos(Truth, TrueGod)),
        writepos(center, TrueGod, List)
    ;   Center==dipl,
        (   godsay(pos(X, truth)), % Посередине точно не бог правды, тот, кто назвал бога посередине богом правды, лжёт
            change(X, Y),
            writepos(Y, truth, List),
            godsay(pos(Y, TrueGod)),
            writepos(center, TrueGod, List)
        ;   mypermute([lie, dipl], [God, _]),
            writepos(center, God, List) % Нельзя определить богов однозначно, можно лишь предположить варианты их расположения
        )
    ),
    mypermute(GodList, List), !,
    writeln(List).
```

Ответ выводится в виде списка.


## Выводы

Выполнив данную лабораторную работу, я приобрела практические навыки решения логических задач на языке программирования Prolog. Этот язык действительно отлично подходит для решения логических задач, ведь его бэктрекинг позволяет просматривать большое количество возможных решений задачи, эффективно отбрасывая неподходящие. Prolog ищет решения очень похоже на поиск решения человеком, но делает это гораздо быстрее. 

Программа находит единственное и непротиворечивое решение, по минимуму используя нелогические средства языка, операции перебора, не зацикливается. Сложность решения данной задачи – О(n), где n – количество высказываний.
